<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cargo Return Planning</title>
    <link rel="stylesheet" href="assets/css/return.css">
    <style>
        body {
            background-image: url('https://i.pinimg.com/originals/11/f7/98/11f798db6d2c40156d5ee890926a8d28.jpg');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            background-attachment: fixed;
            margin: 0;
            padding: 0;
            min-height: 100vh;
        }
    </style>
</head>
<body>
    <div class="logo-container">
        <a href="index.html" class="logo">CargoSync</a>
    </div>
    <div class="nav-links">
        <a href="placement.html">ARRANGEMENTS</a>
        <a href="retrieval.html">RETRIEVAL</a>
        <a href="rearange.html">OPTIMISATION</a>
        <a href="waste.html">WASTE MANAGEMENT</a>
        <a href="return.html">CARGO RETURN</a>
        <a href="logs.html">ANALYSIS</a>
    </div>
    <div class="container">
        <header>
            <h1>Cargo Return Planning</h1>
            <p class="subtitle">Pre-undock waste return and space reclamation planning</p>
        </header>
        
        <div class="main-content">
            <div class="cargo-section">
                <h2>Return Cargo Management</h2>
                
                <div class="module-info">
                    <h3>Resupply Module Details</h3>
                    <div class="form-group">
                        <label for="module-name">Module Name/ID:</label>
                        <input type="text" id="module-name" value="Progress MS-24">
                    </div>
                    <div class="form-group">
                        <label for="undock-date">Planned Undock Date:</label>
                        <input type="date" id="undock-date" value="2025-04-15">
                    </div>
                    <div class="form-group">
                        <label for="total-capacity">Total Return Capacity (cubic units):</label>
                        <input type="number" id="total-capacity" value="45" min="1">
                    </div>
                    <button id="update-module-btn" class="btn primary-btn">Update Module Info</button>
                </div>
                
                <div class="cargo-items-container">
                    <h3>Return Cargo Manifest</h3>
                    <div class="filters">
                        <button id="all-filter" class="filter-btn active">All Items</button>
                        <button id="waste-filter" class="filter-btn">Waste Items</button>
                        <button id="science-filter" class="filter-btn">Science Returns</button>
                        <button id="equipment-filter" class="filter-btn">Equipment</button>
                    </div>
                    
                    <div class="cargo-list" id="cargo-items-container">
                        <!-- Items will be populated here by JavaScript -->
                    </div>
                    
                    <div class="add-item-form">
                        <h3>Add Return Item</h3>
                        <form id="add-cargo-form">
                            <div class="form-group">
                                <label for="item-name">Item Name:</label>
                                <input type="text" id="item-name" required>
                            </div>
                            <div class="form-group">
                                <label for="item-type">Item Type:</label>
                                <select id="item-type" required>
                                    <option value="">-- Select Type --</option>
                                    <option value="Waste">Waste</option>
                                    <option value="Science">Science Return</option>
                                    <option value="Equipment">Equipment</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="item-priority">Priority:</label>
                                <select id="item-priority" required>
                                    <option value="High">High</option>
                                    <option value="Medium" selected>Medium</option>
                                    <option value="Low">Low</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="item-volume">Volume (cubic units):</label>
                                <input type="number" id="item-volume" min="0.1" step="0.1" required>
                            </div>
                            <button type="submit" class="btn primary-btn">Add to Manifest</button>
                        </form>
                    </div>
                </div>
            </div>
            
            <div class="planning-section">
                <div class="space-allocation">
                    <h3>Space Allocation</h3>
                    <div id="space-gauge-container" class="gauge-container">
                        <!-- Space gauge will be rendered here -->
                    </div>
                    <div class="space-stats">
                        <div class="stat-box">
                            <h4>Total Capacity</h4>
                            <p id="total-capacity-display">45 cubic units</p>
                        </div>
                        <div class="stat-box">
                            <h4>Allocated Space</h4>
                            <p id="allocated-space">0 cubic units</p>
                        </div>
                        <div class="stat-box">
                            <h4>Remaining Space</h4>
                            <p id="remaining-space">45 cubic units</p>
                        </div>
                    </div>
                </div>
                
                <div class="allocation-charts">
                    <h3>Space Allocation by Type</h3>
                    <div id="allocation-chart" class="chart-container">
                        <!-- Pie chart will be rendered here -->
                    </div>
                </div>
                
                <div class="priority-breakdown">
                    <h3>Item Priority Breakdown</h3>
                    <div id="priority-chart" class="chart-container">
                        <!-- Priority breakdown chart will be rendered here -->
                    </div>
                </div>
                
                <div class="action-buttons">
                    <button id="optimize-btn" class="btn primary-btn">Optimize Cargo Plan</button>
                    <button id="export-btn" class="btn secondary-btn">Export Manifest</button>
                    <button id="finalize-btn" class="btn accent-btn">Finalize Return Plan</button>
                </div>
                
                <div id="space-reclamation-container" class="space-reclamation">
                    <h3>Post-Undock Space Reclamation</h3>
                    <p>After undocking, you will reclaim approximately <span id="reclaimed-space">0</span> cubic units of space.</p>
                    <div id="reclamation-chart" class="chart-container">
                        <!-- Space reclamation chart will be rendered here -->
                    </div>
                </div>
            </div>
        </div>
        
        <div id="optimization-modal" class="modal">
            <div class="modal-content">
                <span class="close-btn">&times;</span>
                <h2>Cargo Optimization Suggestions</h2>
                <div id="optimization-results"></div>
                <button id="accept-optimization" class="btn primary-btn">Accept Optimization</button>
            </div>
        </div>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="js/return.js"></script>
</body>
</html>